/* NutriTracker Pro - Optimized CSS */
/* Version: 1.0.0 - Compressed for production */

/* Root Variables for RTL/LTR Support */
:root{--primary:#2196F3;--secondary:#6c757d;--success:#198754;--info:#0dcaf0;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#212529;--font-family-sans-serif:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;--gradient-primary:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--gradient-success:linear-gradient(135deg,#11998e 0%,#38ef7d 100%);--gradient-warning:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);--border-radius:0.375rem;--border-radius-lg:0.5rem;--box-shadow:0 0.125rem 0.25rem rgba(0,0,0,0.075);--box-shadow-lg:0 1rem 3rem rgba(0,0,0,0.175);--transition:all 0.15s ease-in-out}

/* RTL Support */
[dir="rtl"]{direction:rtl;text-align:right}
[dir="rtl"] .navbar-brand{margin-right:0;margin-left:1rem}
[dir="rtl"] .dropdown-menu{right:0;left:auto}
[dir="rtl"] .me-2{margin-right:0!important;margin-left:0.5rem!important}
[dir="rtl"] .me-3{margin-right:0!important;margin-left:1rem!important}
[dir="rtl"] .ms-2{margin-left:0!important;margin-right:0.5rem!important}

/* Performance Optimizations */
*,*::before,*::after{box-sizing:border-box}
html{font-feature-settings:"kern" 1,"liga" 1,"calt" 1,"pnum" 1,"tnum" 0,"onum" 1,"lnum" 0,"dlig" 0}
body{font-family:var(--font-family-sans-serif);line-height:1.6;color:var(--dark);background-color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}

/* Critical Above-the-fold Styles */
.navbar{box-shadow:0 2px 4px rgba(0,0,0,0.1);transition:var(--transition)}
.navbar-brand{font-weight:700;font-size:1.25rem}
.navbar-nav .nav-link{font-weight:500;padding:0.5rem 1rem;transition:var(--transition)}
.navbar-nav .nav-link:hover{color:rgba(255,255,255,0.8)!important}

/* Hero Section */
.hero-section{background:var(--gradient-primary);min-height:60vh;display:flex;align-items:center}
.bg-gradient-primary{background:var(--gradient-primary)!important}

/* Cards and Components */
.card{border:none;box-shadow:var(--box-shadow);transition:var(--transition);border-radius:var(--border-radius-lg)}
.card:hover{transform:translateY(-4px);box-shadow:var(--box-shadow-lg)}
.card-header{background-color:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.125);font-weight:600}

/* Buttons */
.btn{font-weight:500;border-radius:var(--border-radius);transition:var(--transition);border-width:1px}
.btn-primary{background:var(--primary);border-color:var(--primary)}
.btn-primary:hover{background-color:#1976d2;border-color:#1976d2;transform:translateY(-1px)}
.btn-success{background:var(--success);border-color:var(--success)}
.btn-info{background:var(--info);border-color:var(--info)}

/* Forms */
.form-control,.form-select{border-radius:var(--border-radius);border:1px solid #ced4da;transition:var(--transition)}
.form-control:focus,.form-select:focus{border-color:var(--primary);box-shadow:0 0 0 0.2rem rgba(33,150,243,0.25)}
.form-label{font-weight:500;color:var(--dark);margin-bottom:0.5rem}

/* Loading Screen */
#loading-screen{background:var(--gradient-primary);z-index:9999}
.spinner-border{width:3rem;height:3rem}

/* Install Banner */
#install-banner{margin:0;border-radius:0;border:none;background:linear-gradient(90deg,#e3f2fd,#f3e5f5)}

/* Page Content */
.page-content{animation:fadeIn 0.3s ease-in-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* Responsive Images */
img{max-width:100%;height:auto}

/* Offline Status */
.toast{border-radius:var(--border-radius);box-shadow:var(--box-shadow-lg)}
#online-status.bg-success{background-color:var(--success)!important}
#online-status.bg-danger{background-color:var(--danger)!important}

/* Utility Classes */
.text-gradient{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.shadow-sm{box-shadow:var(--box-shadow)!important}
.shadow-lg{box-shadow:var(--box-shadow-lg)!important}
.rounded-lg{border-radius:var(--border-radius-lg)!important}

/* Dark Mode Support */
@media (prefers-color-scheme:dark){
:root{--dark:#ffffff;--light:#212529}
body{background-color:#121212;color:#ffffff}
.card{background-color:#1e1e1e;color:#ffffff}
.navbar-dark{background-color:#1e1e1e!important}
.form-control,.form-select{background-color:#2d2d2d;border-color:#404040;color:#ffffff}
.form-control:focus,.form-select:focus{background-color:#2d2d2d;border-color:var(--primary);color:#ffffff}}

/* High Contrast Mode */
@media (prefers-contrast:high){
.btn{border-width:2px}
.card{border:2px solid var(--dark)}
.form-control,.form-select{border-width:2px}}

/* Reduced Motion */
@media (prefers-reduced-motion:reduce){
*,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important}
.page-content{animation:none}}

/* Print Styles */
@media print{
.navbar,.footer,#install-banner,#loading-screen{display:none!important}
.container{max-width:none!important}
.card{box-shadow:none;border:1px solid #000}
a[href^="http"]:after{content:" (" attr(href) ")"}}

/* Mobile Optimizations */
@media (max-width:767.98px){
.container{padding-left:1rem;padding-right:1rem}
.hero-section{min-height:50vh;padding:2rem 0}
.display-4{font-size:2rem}
.btn-lg{padding:0.75rem 1.5rem;font-size:1rem}
.card{margin-bottom:1rem}
.navbar-nav{background-color:rgba(0,0,0,0.1);border-radius:var(--border-radius);margin-top:1rem;padding:0.5rem}}

/* Tablet Optimizations */
@media (min-width:768px) and (max-width:991.98px){
.container{max-width:720px}
.hero-section{min-height:55vh}}

/* Desktop Optimizations */
@media (min-width:1200px){
.container{max-width:1140px}
.hero-section{min-height:70vh}}

/* Critical Resource Hints */
@font-face{font-family:'Inter';font-style:normal;font-weight:100 900;font-display:swap;src:url('/static/fonts/inter-var.woff2') format('woff2-variations')}

/* PWA Specific Styles */
@media (display-mode:standalone){
body{padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom)}
.navbar{padding-top:calc(env(safe-area-inset-top) + 0.5rem)}
#install-banner{display:none!important}}

/* Optimized Animations */
.card-hover{transition:transform 0.2s cubic-bezier(0.4,0,0.2,1),box-shadow 0.2s cubic-bezier(0.4,0,0.2,1)}
.card-hover:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,0.15)}

/* Lazy Loading Placeholders */
.lazy-placeholder{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}

/* Accessibility Improvements */
.visually-hidden{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}

/* Focus Management */
.btn:focus,.form-control:focus,.form-select:focus{outline:2px solid var(--primary);outline-offset:2px}

/* Performance Critical CSS - Above the fold */
.critical-above-fold{font-display:swap;contain:layout style paint}

/* Optimized Grid System */
.row{display:flex;flex-wrap:wrap;margin-left:-15px;margin-right:-15px}
.col,.col-auto,.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12{position:relative;width:100%;padding-left:15px;padding-right:15px}

/* Compressed Bootstrap Overrides */
.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}
.d-none{display:none!important}
.d-flex{display:flex!important}
.align-items-center{align-items:center!important}
.justify-content-center{justify-content:center!important}
.text-center{text-align:center!important}
.mb-0{margin-bottom:0!important}
.mb-2{margin-bottom:0.5rem!important}
.mb-3{margin-bottom:1rem!important}
.mb-4{margin-bottom:1.5rem!important}
.mt-3{margin-top:1rem!important}
.mt-4{margin-top:1.5rem!important}
.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}
.py-5{padding-top:3rem!important;padding-bottom:3rem!important}
